<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' https:; script-src 'self' https: 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:;">
  <title>Jeopardy Game - LIVE Function Testing</title>
  <script src="/_sdk/data_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 20px;
      font-family: 'Arial', sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      color: white;
      width: 100%;
      min-height: 100%;
    }

    * {
      box-sizing: border-box;
    }

    .test-container {
      max-width: 1400px;
      margin: 0 auto;
    }

    h1 {
      text-align: center;
      color: #FFD700;
      font-size: 2.5em;
      margin-bottom: 10px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
    }

    .critical-info {
      text-align: center;
      background: rgba(255, 0, 0, 0.2);
      border: 3px solid #ff0000;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 30px;
    }

    .critical-info h2 {
      color: #ff6666;
      margin-top: 0;
    }

    .status-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .status-card {
      background: rgba(0, 0, 0, 0.4);
      padding: 20px;
      border-radius: 10px;
      border: 3px solid #FFD700;
    }

    .status-card h3 {
      color: #FFD700;
      margin-top: 0;
      font-size: 1.3em;
      border-bottom: 2px solid #FFD700;
      padding-bottom: 10px;
    }

    .status-item {
      display: flex;
      justify-content: space-between;
      margin: 10px 0;
      padding: 8px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 5px;
    }

    .status-label {
      color: #FFA500;
      font-weight: bold;
    }

    .status-value {
      color: #00ff00;
      font-family: monospace;
      font-weight: bold;
    }

    .status-value.error {
      color: #ff6666;
    }

    .test-section {
      background: rgba(0, 0, 0, 0.4);
      padding: 25px;
      border-radius: 15px;
      margin-bottom: 25px;
      border: 3px solid #FFD700;
    }

    .test-section h2 {
      color: #FFD700;
      font-size: 1.8em;
      margin-top: 0;
      margin-bottom: 20px;
      border-bottom: 2px solid #FFD700;
      padding-bottom: 10px;
    }

    .test-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 15px;
      margin-bottom: 20px;
    }

    .test-btn {
      background: linear-gradient(135deg, #0f4d2e 0%, #1a5c3a 100%);
      color: #FFD700;
      border: 3px solid #FFD700;
      padding: 15px 20px;
      font-size: 1.1em;
      font-weight: bold;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
      text-align: left;
      position: relative;
    }

    .test-btn:hover {
      background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
      color: #000;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(255, 215, 0, 0.5);
    }

    .test-btn.success {
      border-color: #00ff00;
      background: linear-gradient(135deg, #0a3d1a 0%, #0f5a2a 100%);
    }

    .test-btn.error {
      border-color: #ff0000;
      background: linear-gradient(135deg, #3d0a0a 0%, #5a0f0f 100%);
    }

    .test-btn.warning {
      background: linear-gradient(135deg, #8B0000 0%, #DC143C 100%);
    }

    .test-btn .status-indicator {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 1.2em;
    }

    .test-log {
      background: rgba(0, 0, 0, 0.7);
      padding: 15px;
      border-radius: 10px;
      border: 2px solid #00ff00;
      max-height: 400px;
      overflow-y: auto;
      font-family: monospace;
      font-size: 0.9em;
      margin-top: 20px;
    }

    .log-entry {
      margin-bottom: 5px;
      padding: 5px;
      border-left: 3px solid #00ff00;
      padding-left: 10px;
    }

    .log-entry.error {
      border-left-color: #ff0000;
      color: #ff6666;
    }

    .log-entry.success {
      border-left-color: #00ff00;
      color: #66ff66;
    }

    .log-entry.warning {
      border-left-color: #FFA500;
      color: #FFD700;
    }

    .log-entry.info {
      border-left-color: #4499ff;
      color: #88ccff;
    }

    .input-group {
      margin: 15px 0;
      padding: 15px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 8px;
    }

    .input-group label {
      display: block;
      color: #FFD700;
      margin-bottom: 8px;
      font-weight: bold;
    }

    .input-group input,
    .input-group select {
      width: 100%;
      padding: 10px;
      border: 2px solid #FFD700;
      border-radius: 5px;
      background: rgba(255, 255, 255, 0.9);
      font-size: 1em;
    }

    .btn-clear {
      background: #8B0000;
      color: white;
      border: 2px solid #FF6B6B;
      padding: 12px 25px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      font-size: 1.1em;
      margin: 10px 5px;
    }

    .btn-clear:hover {
      background: #DC143C;
    }

    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: linear-gradient(135deg, #00ff00 0%, #00cc00 100%);
      color: #000;
      padding: 15px 30px;
      border-radius: 10px;
      font-size: 1.2em;
      font-weight: bold;
      box-shadow: 0 5px 20px rgba(0, 255, 0, 0.5);
      animation: slideIn 0.3s ease-out;
      z-index: 10000;
      max-width: 400px;
    }

    .notification.error {
      background: linear-gradient(135deg, #ff0000 0%, #cc0000 100%);
      color: white;
      box-shadow: 0 5px 20px rgba(255, 0, 0, 0.5);
    }

    @keyframes slideIn {
      from {
        transform: translateX(400px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    .team-scores-display {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 10px;
      margin: 20px 0;
    }

    .team-score-card {
      background: rgba(0, 0, 0, 0.5);
      padding: 15px;
      border-radius: 8px;
      border: 2px solid #FFD700;
      text-align: center;
    }

    .team-score-card.current {
      border-color: #ff0000;
      box-shadow: 0 0 15px rgba(255, 0, 0, 0.5);
    }

    .team-score-card .team-name {
      color: #FFD700;
      font-weight: bold;
      font-size: 1.1em;
      margin-bottom: 8px;
    }

    .team-score-card .team-score {
      color: #00ff00;
      font-size: 1.8em;
      font-weight: bold;
    }

    .team-score-card .team-score.negative {
      color: #ff6666;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="test-container">
   <h1>ğŸ„ Jeopardy Game - LIVE Function Testing ğŸ…</h1>
   <div class="critical-info">
    <h2>âš ï¸ IMPORTANT TESTING INSTRUCTIONS âš ï¸</h2>
    <p style="font-size: 1.2em; margin: 10px 0;"><strong>This is a LIVE testing interface for the actual game!</strong></p>
    <p style="font-size: 1em;">1ï¸âƒ£ First, initialize the SDK and create game state (if not already done)<br>
      2ï¸âƒ£ Test functions will modify the REAL game database<br>
      3ï¸âƒ£ Open the main game in another tab to see changes in real-time<br>
      4ï¸âƒ£ Use "Reset Game" at bottom to start fresh</p>
   </div><!-- Real-Time Status -->
   <div class="status-grid">
    <div class="status-card">
     <h3>ğŸ”Œ Connection Status</h3>
     <div class="status-item"><span class="status-label">SDK:</span> <span class="status-value" id="sdk-status">âŒ Not Connected</span>
     </div>
     <div class="status-item"><span class="status-label">Game Data:</span> <span class="status-value" id="game-status">âŒ Not Loaded</span>
     </div>
     <div class="status-item"><span class="status-label">Last Update:</span> <span class="status-value" id="last-update">Never</span>
     </div>
    </div>
    <div class="status-card">
     <h3>ğŸ® Game State</h3>
     <div class="status-item"><span class="status-label">Current Team:</span> <span class="status-value" id="current-team">-</span>
     </div>
     <div class="status-item"><span class="status-label">Questions Used:</span> <span class="status-value" id="questions-used">0 / 20</span>
     </div>
     <div class="status-item"><span class="status-label">Multiplier:</span> <span class="status-value" id="multiplier">1x</span>
     </div>
    </div>
    <div class="status-card">
     <h3>ğŸ”” Active States</h3>
     <div class="status-item"><span class="status-label">Buzzer:</span> <span class="status-value" id="buzzer-status">âŒ Inactive</span>
     </div>
     <div class="status-item"><span class="status-label">Active Question:</span> <span class="status-value" id="active-question">None</span>
     </div>
     <div class="status-item"><span class="status-label">Answer Revealed:</span> <span class="status-value" id="answer-revealed">No</span>
     </div>
    </div>
   </div><!-- Team Scores Display -->
   <div class="test-section">
    <h2>ğŸ“Š Live Team Scores</h2>
    <div class="team-scores-display" id="team-scores-display"><!-- Populated dynamically -->
    </div>
   </div><!-- Setup & Initialization -->
   <div class="test-section">
    <h2>1ï¸âƒ£ Setup &amp; Initialization</h2>
    <div class="input-group">
      <label><input type="checkbox" id="allow-writes"> Allow Live Writes (required for updates)</label>
      <div style="font-size:0.9em; color:#ffd700; margin-top:6px;">Keep this unchecked to prevent accidental changes to the real game database.</div>
    </div>
    <div class="input-group">
      <label><input type="checkbox" id="mock-simulate-errors"> Simulate SDK Errors (mock only)</label>
      <label style="margin-top:8px;">Simulate Latency (ms): <input type="number" id="mock-latency" min="0" max="5000" value="0" style="width:80px;"></label>
      <div style="font-size:0.9em; color:#ffa500; margin-top:6px;">Use these to test error handling and performance.</div>
    </div>
     <div class="test-grid"><button class="test-btn" onclick="testSDKInit()" id="btn-sdk-init"> <span class="status-indicator">â³</span> ğŸ”Œ Initialize SDK </button> <button class="test-btn" onclick="testCreateGame()" id="btn-create-game"> <span class="status-indicator">â³</span> ğŸ® Create New Game </button> <button class="test-btn" onclick="testLoadGame()" id="btn-load-game"> <span class="status-indicator">â³</span> ğŸ“¥ Load Game State </button> <button class="test-btn warning" onclick="testResetGame()" id="btn-reset-game"> <span class="status-indicator">âš ï¸</span> ğŸ”„ Reset Game (DELETE) </button>
     </div>
   </div><!-- Team Management -->
   <div class="test-section">
    <h2>2ï¸âƒ£ Team Management</h2>
    <div class="input-group"><label>Select Team for Testing:</label> <select id="test-team-select"> <option value="1">Team 1</option> <option value="2">Team 2</option> <option value="3">Team 3</option> <option value="4">Team 4</option> <option value="5">Team 5</option> </select>
    </div>
    <div class="test-grid"><button class="test-btn" onclick="testUpdateName()" id="btn-update-name"> <span class="status-indicator">âœï¸</span> âœï¸ Update Team Name </button> <button class="test-btn" onclick="testChangeAvatar()" id="btn-change-avatar"> <span class="status-indicator">ğŸ¨</span> ğŸ¨ Change Avatar </button> <button class="test-btn" onclick="testSetCurrent()" id="btn-set-current"> <span class="status-indicator">ğŸ‘‰</span> ğŸ‘‰ Set as Current </button> <button class="test-btn" onclick="testAddPoints()" id="btn-add-points"> <span class="status-indicator">â•</span> â• Add 200 Points </button> <button class="test-btn" onclick="testSubtractPoints()" id="btn-subtract-points"> <span class="status-indicator">â–</span> â– Subtract 200 Points </button> <button class="test-btn" onclick="testNegativeScore()" id="btn-negative"> <span class="status-indicator">ğŸ“‰</span> ğŸ“‰ Set to -500 </button>
    </div>
   </div><!-- Question System -->
   <div class="test-section">
    <h2>3ï¸âƒ£ Question System</h2>
    <div class="input-group"><label>Category:</label> <select id="test-category"> <option value="0">Types of Hearing Loss</option> <option value="1">External Otitis</option> <option value="2">Otitis Media</option> <option value="3">Tinnitus &amp; Vertigo</option> </select>
    </div>
    <div class="input-group"><label>Value:</label> <select id="test-value"> <option value="100">$100</option> <option value="200">$200</option> <option value="300">$300</option> <option value="400">$400</option> <option value="500">$500</option> </select>
    </div>
    <div class="test-grid"><button class="test-btn" onclick="testShowQuestion()" id="btn-show-question"> <span class="status-indicator">â“</span> â“ Show Question </button> <button class="test-btn" onclick="testRevealAnswer()" id="btn-reveal-answer"> <span class="status-indicator">ğŸ‘ï¸</span> ğŸ‘ï¸ Reveal Answer </button> <button class="test-btn" onclick="testMarkCorrect()" id="btn-mark-correct"> <span class="status-indicator">âœ…</span> âœ… Mark Correct </button> <button class="test-btn" onclick="testMarkWrong()" id="btn-mark-wrong"> <span class="status-indicator">âŒ</span> âŒ Mark Wrong </button> <button class="test-btn" onclick="testReturnBoard()" id="btn-return-board"> <span class="status-indicator">ğŸ”™</span> ğŸ”™ Return to Board </button> <button class="test-btn" onclick="testUseAllQuestions()" id="btn-use-all"> <span class="status-indicator">ğŸ“‹</span> ğŸ“‹ Mark All Used </button>
    </div>
   </div><!-- Multiplier & Power-ups -->
   <div class="test-section">
    <h2>4ï¸âƒ£ Multipliers &amp; Power-ups</h2>
    <div class="test-grid"><button class="test-btn" onclick="testDoubleNext()" id="btn-double"> <span class="status-indicator">âš¡</span> âš¡ Double Next (2x) </button> <button class="test-btn" onclick="testTripleNext()" id="btn-triple"> <span class="status-indicator">âš¡</span> âš¡ Triple Next (3x) </button> <button class="test-btn" onclick="testGiveCandy()" id="btn-give-candy"> <span class="status-indicator">ğŸ¬</span> ğŸ¬ Give Candy Cane </button> <button class="test-btn" onclick="testGiveOrnament()" id="btn-give-ornament"> <span class="status-indicator">ğŸ„</span> ğŸ„ Give Ornament </button> <button class="test-btn" onclick="testUseCandy()" id="btn-use-candy"> <span class="status-indicator">ğŸ¬</span> ğŸ¬ Use Candy (+50) </button> <button class="test-btn" onclick="testUseOrnament()" id="btn-use-ornament"> <span class="status-indicator">ğŸ„</span> ğŸ„ Use Ornament (2x) </button>
    </div>
   </div><!-- Buzzer System -->
   <div class="test-section">
    <h2>5ï¸âƒ£ Buzzer System</h2>
    <div class="test-grid"><button class="test-btn" onclick="testEnableBuzzer()" id="btn-enable-buzzer"> <span class="status-indicator">ğŸ””</span> ğŸ”” Enable Buzzer </button> <button class="test-btn" onclick="testDisableBuzzer()" id="btn-disable-buzzer"> <span class="status-indicator">ğŸ”•</span> ğŸ”• Disable Buzzer </button> <button class="test-btn" onclick="testBuzzIn()" id="btn-buzz-in"> <span class="status-indicator">âš¡</span> âš¡ Team Buzzes In </button> <button class="test-btn" onclick="testClearBuzzer()" id="btn-clear-buzzer"> <span class="status-indicator">ğŸ§¹</span> ğŸ§¹ Clear Buzzer </button>
    </div>
   </div><!-- Chaos Events -->
   <div class="test-section">
    <h2>6ï¸âƒ£ Chaos Events</h2>
    <div class="test-grid"><button class="test-btn warning" onclick="testSantaShuffle()" id="btn-santa"> <span class="status-indicator">ğŸ…</span> ğŸ… Santa Shuffle </button> <button class="test-btn warning" onclick="testGingerbread()" id="btn-gingerbread"> <span class="status-indicator">ğŸª</span> ğŸª Gingerbread (-100 all) </button> <button class="test-btn warning" onclick="testStockingSteal()" id="btn-stocking"> <span class="status-indicator">ğŸ§¦</span> ğŸ§¦ Stocking Steal </button> <button class="test-btn warning" onclick="testSwapScores()" id="btn-swap"> <span class="status-indicator">ğŸ”„</span> ğŸ”„ Swap Team Scores </button>
    </div>
   </div><!-- Stress Tests -->
   <div class="test-section">
    <h2>7ï¸âƒ£ Stress Tests</h2>
    <div class="test-grid"><button class="test-btn" onclick="testRapidUpdates()" id="btn-rapid"> <span class="status-indicator">âš¡</span> âš¡ Rapid Updates (10x) </button> <button class="test-btn" onclick="testAllNegative()" id="btn-all-negative"> <span class="status-indicator">ğŸ“‰</span> ğŸ“‰ All Teams Negative </button> <button class="test-btn" onclick="testMaxScores()" id="btn-max-scores"> <span class="status-indicator">ğŸ“ˆ</span> ğŸ“ˆ Max Scores (9999) </button> <button class="test-btn" onclick="testStateFlood()" id="btn-flood"> <span class="status-indicator">ğŸŒŠ</span> ğŸŒŠ State Change Flood </button>
    </div>
   </div><!-- Test Log -->
   <div class="test-log" id="test-log">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;"><strong style="color: #FFD700; font-size: 1.2em;">ğŸ“ Test Log</strong> <button class="btn-clear" onclick="clearLog()">Clear Log</button>
    </div>
    <div id="log-entries">
     <div class="log-entry info">
      [READY] Test suite loaded. Initialize SDK to begin testing.
     </div>
    </div>
   </div>
  </div>
  <script src="/live-test.js"></script>
</body>
</html>
</html>